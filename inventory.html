<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Inventory - StoreBuddy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="center-page">
    <div class="card page-card">
      <div class="page-header">
        <h2 class="page-title">Inventory</h2>
        <button class="btn secondary small" onclick="location.href='dashboard.html'">
          Back to Dashboard
        </button>
      </div>
      <p class="text-muted">
        Manage all your products here. You can add new items, update quantities and remove products you no longer sell.
      </p>

      <!-- Search + Add toolbar -->
      <div class="toolbar" style="margin-top:12px;">
        <input id="searchInput" type="text" placeholder="Search product by name">
        <button id="showAddFormBtn" class="btn small">+ Add product</button>
      </div>

      <!-- Low stock summary -->
      <p id="lowStockSummary" class="text-warning"></p>

      <!-- Add / Edit panel -->
      <div id="productPanel" style="display:none; margin-top:10px; border-radius:12px; border:1px solid #e5e7eb; padding:12px; background:#f9fafb;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px;">
          <h3 id="panelTitle" style="font-size:16px;">Add product</h3>
          <button id="closePanelBtn" class="btn secondary small">Close</button>
        </div>

        <label for="panelName">Product name *</label>
        <input id="panelName" type="text" placeholder="e.g. Rice 5kg Bag">

        <label for="panelPrice">Price (per unit, in tk) *</label>
        <input id="panelPrice" type="number" min="0" step="0.01" placeholder="e.g. 550">

        <label for="panelQty">Quantity in stock *</label>
        <input id="panelQty" type="number" min="0" step="1" placeholder="e.g. 20">

        <p id="panelWarning" class="text-warning"></p>

        <div class="toolbar" style="margin-top:4px;">
          <button id="saveProductBtn" class="btn small">Save</button>
          <button id="deleteProductBtn" class="btn danger small" style="display:none;">Delete</button>
        </div>
      </div>

      <!-- Product table -->
      <div class="table-container">
        <table class="product-table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Price (tk)</th>
              <th>Quantity</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="productTableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <!-- Your scripts -->
  <script src="js/firebase.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/inventory.js"></script>
</body>
</html>
